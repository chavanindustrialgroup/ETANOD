<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ETANOD ‚Äî Polos</title>
  <meta name="description" content="ETANOD luxury polos ‚Äî crafted for the discerning." />
  <meta name="theme-color" content="#0a0a0a" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#ffffff; --ink:#0a0a0a; --muted:#6b7280; --gold:#d4af37; --soft:#f5f5f7; --grid-gap:18px; --cols:3; --card-radius:18px; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--ink); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif; line-height:1.45}
    a{color:inherit; text-decoration:none}
    .container{width:min(1200px, 100% - 40px); margin-inline:auto}

    header.nav{position:sticky; top:0; z-index:70; backdrop-filter:saturate(180%) blur(10px); background:rgba(255,255,255,.9); border-bottom:1px solid #eee}
    .nav-inner{display:flex; align-items:center; gap:12px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:12px; font-weight:600}
    .brand img{height:34px; width:auto; object-fit:contain}
    .brand .wordmark{font-family:"Cormorant Garamond",serif; font-size:22px; letter-spacing:.24em}
    .spacer{flex:1}
    .pill{border:1px solid #e5e7eb; border-radius:999px; padding:10px 14px; background:#fff; display:flex; align-items:center; gap:10px}
    .controls{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .controls .pill input[type="search"]{border:0; outline:0; width:180px; font:inherit; background:transparent}
    .pill select{border:0; background:transparent; font:inherit; color:inherit; cursor:pointer}
    .cart-icon{font-size:16px; line-height:1; margin-right:6px}
    #cartBadge{background:var(--gold); color:#fff; border-radius:999px; padding:2px 6px; font-size:12px; line-height:1; margin-left:4px; display:none}

    .hamburger{display:none; align-items:center; justify-content:center; width:42px; height:42px; border-radius:12px; border:1px solid #e5e7eb; background:#fff; cursor:pointer}
    .hamburger svg{width:20px; height:20px}

    .drawer{position:fixed; inset:0; display:none; z-index:80}
    .drawer.open{display:block}
    .drawer .dimmer{position:absolute; inset:0; background:rgba(0,0,0,.35)}
    .drawer .panel{position:absolute; right:0; top:0; bottom:0; width:min(92vw,420px); background:#fff; border-left:1px solid #eee; display:flex; flex-direction:column}
    .drawer .head{display:flex; align-items:center; justify-content:space-between; padding:14px 14px; border-bottom:1px solid #eee}
    .drawer .section{padding:14px}
    .drawer .field{display:flex; align-items:center; gap:10px; border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px; background:#fff; margin-bottom:10px}
    .drawer input[type="search"]{border:0; outline:0; width:100%; font:inherit; background:transparent}
    .drawer .actions{display:grid; gap:10px}
    .drawer .btn{display:flex; align-items:center; justify-content:center; gap:8px; padding:12px 14px; border-radius:12px; border:1px solid #111; background:#111; color:#fff; cursor:pointer; font-weight:600}
    .drawer .btn.secondary{background:#fff; color:#111; border-color:#e5e7eb}

    .donate{background:linear-gradient(180deg,#fff7e6,#fff); border-bottom:1px solid #f1e9cf; color:#7a6220}
    .donate .inner{display:flex; align-items:center; justify-content:center; gap:12px; padding:10px 14px; text-align:center}
    .donate .tag{background:#f7e8b4; color:#7a6220; padding:4px 10px; border-radius:999px; font-weight:800; letter-spacing:.04em}

    main{padding:18px 0 60px}
    #productGrid{display:grid; grid-template-columns: repeat(var(--cols), minmax(0,1fr)); gap:var(--grid-gap); transition:grid-template-columns .25s ease}
    .card{border:1px solid #eee; border-radius:var(--card-radius); overflow:hidden; background:#fff; display:flex; flex-direction:column; position:relative; box-shadow:0 1px 0 rgba(0,0,0,.04)}
    .card .media{aspect-ratio:1/1; background:linear-gradient(135deg,#f6f7f9,#eceff3); position:relative; overflow:hidden}
    .card img{width:100%; height:100%; object-fit:cover; display:block; transition:transform .45s ease, opacity .3s ease}
    .card:hover img.primary{opacity:0}
    .card:hover img.secondary{opacity:1; transform:scale(1.02)}
    .card img.secondary{position:absolute; inset:0; opacity:0}
    .badge{position:absolute; left:12px; top:12px; font-size:12px; padding:6px 10px; border-radius:999px; background:#111; color:#fff; letter-spacing:.06em}
    .pledge{position:absolute; left:12px; bottom:12px; font-size:11px; padding:5px 8px; border-radius:999px; background:#fff4d6; color:#7a6220; border:1px solid #f1e9cf}
    .wishlist{position:absolute; right:10px; top:10px; background:#fff; border:1px solid #e5e7eb; width:36px; height:36px; border-radius:999px; display:grid; place-items:center; cursor:pointer; z-index:10}
    .wishlist svg{width:18px; height:18px}
    .wishlist.active{border-color:var(--gold); box-shadow:0 0 0 2px rgba(212,175,55,.15)}
    .meta{padding:14px 14px 16px}
    .title{font-size:14px; font-weight:600; letter-spacing:.02em}
    .subtitle{font-size:12px; color:var(--muted); margin-top:4px}
    .impact{font-size:11px; color:#7a6220; background:#fffaf0; border:1px solid #f1e9cf; padding:6px 8px; border-radius:10px; margin-top:8px; display:inline-block}
    .price{margin-top:8px; font-weight:800}
    .add-to-cart{margin-top:10px; width:100%; padding:12px 14px; border-radius:12px; border:1px solid #111; background:#111; color:#fff; font-size:14px; font-weight:700; cursor:pointer; transition:background .2s ease}
    .add-to-cart:hover{background:#333}

    footer{border-top:1px solid #eee; padding:24px 0; color:#6b7280; font-size:12px}
    .legal{max-width:900px; margin-inline:auto; padding-top:8px}

    .modal{position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; place-items:center; z-index:90}
    .modal.open{display:grid}
    .dialog{width:min(1100px,96vw); background:#fff; border-radius:20px; overflow:hidden; display:grid; grid-template-columns:1fr 440px; gap:0; max-height:90vh}
    .dialog .gallery{background:#fafafa; padding:16px; overflow:auto}
    .dialog .details{padding:20px 22px; overflow:auto}
    .gallery-main{position:relative}
    .gallery-main img{width:100%; height:auto; display:block; border-radius:14px}
    .thumbs{display:grid; grid-template-columns:repeat(5,1fr); gap:10px; margin-top:12px}
    .thumbs button{border:1px solid transparent; padding:0; border-radius:10px; overflow:hidden; background:#fff; cursor:pointer}
    .thumbs button.active{border-color:var(--gold)}
    .thumbs img{display:block; width:100%; height:auto}
    .dialog .close{position:absolute; right:12px; top:12px; width:40px; height:40px; border-radius:999px; border:1px solid #e5e7eb; background:#fff; display:grid; place-items:center; cursor:pointer}
    .dialog-wrap{position:relative}
    .arrows{position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; pointer-events:none}
    .arrows button{pointer-events:auto; width:42px; height:42px; border-radius:999px; border:1px solid #e5e7eb; background:#fff; cursor:pointer}
    .modal-pledge{background:#fff8e1; color:#7a6220; border:1px solid #f1e9cf; padding:10px 12px; border-radius:12px; font-size:12px; margin:12px 0}

    /* Mobile layout tuning: 2 cols, larger imagery, minimal text */
    @media (max-width: 768px){
      :root{ --cols:2; --grid-gap:14px }
      .brand .wordmark{font-size:18px; letter-spacing:.18em}
      .controls{display:none}
      .hamburger{display:flex}
      .dialog{grid-template-columns:1fr}
      .card .media{aspect-ratio:4/5}
      .subtitle, .impact, .pledge{display:none}
      .meta{padding:10px 12px 12px}
      .title{font-size:13px}
      .price{font-size:14px}
    }
  </style>
</head>
<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="#"><img id="logo" src="IMAGES/LOGO/LOGO.png" alt="ETANOD logo" onerror="this.onerror=null; this.src='IMAGES/LOGO/L1.png'; this.alt='ETANOD';"><span class="wordmark">ETANOD</span></a>
      <div class="spacer"></div>
      <div class="controls" id="desktopControls">
        <div class="pill"><input id="search" type="search" placeholder="Search polos‚Ä¶" aria-label="Search products"/></div>
        <div class="pill"><label for="sort" style="color:#6b7280">Sort</label><select id="sort" aria-label="Sort products"><option value="new">Newest</option><option value="id-asc">ID (1 ‚Üí 30)</option><option value="id-desc">ID (30 ‚Üí 1)</option><option value="name-asc">Name (A ‚Üí Z)</option><option value="name-desc">Name (Z ‚Üí A)</option></select></div>
        <div id="cartContainer" style="position:relative"><div id="cartWrap" class="pill cart" aria-label="Open cart (new page)" role="button" tabindex="0"><span class="cart-icon">üõçÔ∏è</span><span>Cart</span><span id="cartBadge"></span></div></div>
        <div id="accountWrap" style="position:relative"><div id="accountChip" class="pill" aria-haspopup="menu" aria-expanded="false" title="Account" role="button" tabindex="0"><svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" style="margin-right:6px"><circle cx="12" cy="8" r="4"></circle><path d="M4 20c0-4 4-6 8-6s8 2 8 6"></path></svg><span>Account</span></div></div>
      </div>
      <button id="burger" class="hamburger" aria-label="Menu"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
    </div>
  </header>

  <div class="donate"><div class="container inner"><span class="tag">100% PROFITS ‚Üí CHARITY</span><span>Thank you for supporting animal‚Äëwelfare causes.</span></div></div>

  <div id="mobileDrawer" class="drawer" aria-hidden="true">
    <div class="dimmer" id="drawerDimmer"></div>
    <div class="panel" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="head"><div style="display:flex; align-items:center; gap:10px"><img src="IMAGES/LOGO/L1.png" alt="ETANOD" style="height:22px"><div style="font-family:'Cormorant Garamond',serif; letter-spacing:.14em">ETANOD</div></div><button id="drawerClose" class="hamburger" aria-label="Close"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div>
      <div class="section"><div class="field"><input id="mSearch" type="search" placeholder="Search polos‚Ä¶"/></div><div class="field" style="justify-content:space-between"><label for="mSort" style="color:#6b7280">Sort</label><select id="mSort" style="border:0; background:transparent"><option value="new">Newest</option><option value="id-asc">ID (1 ‚Üí 30)</option><option value="id-desc">ID (30 ‚Üí 1)</option><option value="name-asc">Name (A ‚Üí Z)</option><option value="name-desc">Name (Z ‚Üí A)</option></select></div></div>
      <div class="section actions"><button id="mCart" class="btn">üõçÔ∏è View Cart</button><button id="mAccount" class="btn secondary">Account ‚Äî Log in / Sign up</button></div>
      <div class="section" style="margin-top:auto; font-size:12px; color:#7a6220">Thank you for supporting animal‚Äëwelfare causes.</div>
    </div>
  </div>

  <main class="container">
    <div style="display:flex; align-items:baseline; justify-content:space-between; gap:12px; margin:10px 2px 18px;"><h1 style="font-family:'Cormorant Garamond',serif; letter-spacing:.1em; font-weight:500; margin:0; font-size:28px">Polos</h1><div id="count" style="color:#6b7280; font-size:14px"></div></div>
    <section id="productGrid" aria-live="polite"></section>
  </main>

  <footer>
    <div class="container" style="display:flex; justify-content:space-between; flex-wrap:wrap; gap:10px"><div>¬© <span id="year"></span> ETANOD.</div><div>Crafted with care ‚Ä¢ Pune, IN</div></div>
    <div class="legal container">Descriptions are aspirational and reflect design intent. Product experience can vary.</div>
  </footer>

  <div id="modal" class="modal" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true" aria-label="Product details">
      <div class="gallery dialog-wrap">
        <button class="close" aria-label="Close" onclick="closeModal()"><svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"></path></svg></button>
        <div class="gallery-main"><img id="mainImage" alt="Product image"><div class="arrows"><button aria-label="Previous image" onclick="prevImage()">‚Äπ</button><button aria-label="Next image" onclick="nextImage()">‚Ä∫</button></div></div>
        <div class="thumbs" id="thumbs"></div>
      </div>
      <div class="details">
        <h2 id="modalTitle" style="margin:.25rem 0 .5rem; font-size:22px">Product</h2>
        <div id="modalSubtitle" class="subtitle">Classic Polo</div>
        <div class="price" id="modalPrice" style="margin:12px 0 10px;">&nbsp;</div>
        <div id="modalImpact" class="modal-pledge">100% profits from this collection are directed to charity.</div>
        <div id="modalLongCopy" style="font-size:14px; color:#333; line-height:1.6; display:grid; gap:10px"></div>
        <div style="display:flex; gap:10px; align-items:center; margin-top:16px"><button id="modalAdd" class="btn">Add to Bag</button><button id="modalWish" class="btn secondary">Wishlist</button></div>
      </div>
    </div>
  </div>

  <div id="authModal" class="modal" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true" aria-label="Sign in" style="grid-template-columns:1fr; max-width:560px"><div class="details"><div style="display:flex; align-items:center; justify-content:space-between"><div class="auth-title" style="font-family:'Cormorant Garamond',serif; letter-spacing:.1em; font-size:20px">Sign in to ETANOD</div><button class="close" aria-label="Close" id="authClose"><svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div><p style="color:#555">This demo build runs locally. Connect your backend to enable authentication. Continue browsing and add items to your cart.</p></div></div>
  </div>

  <script>
  (function(){
    var NAMES = ['Sapphire Serenade Polo','Azure Opulence Polo','Cobalt Heritage Polo','Midnight Royal Polo','Deep Sea Luxe Polo','Crimson Royale Polo','Ruby Legacy Polo','Scarlet Empress Polo','Burgundy Velvet Polo','Cherry Orchard Polo','Emerald Crest Polo','Jade Verdant Polo','Forest Majesty Polo','Olive Heritage Polo','Mint Luxe Polo','Obsidian Noir Polo','Midnight Shadow Polo','Jet Classic Polo','Charcoal Prestige Polo','Onyx Luxe Polo','Pearl Essence Polo','Ivory Elegance Polo','Snow Whisper Polo','Alabaster Grace Polo','Linen Luxe Polo','Golden Glory Polo','Sunlit Splendor Polo','Marigold Majesty Polo','Amber Radiance Polo','Citrine Charm Polo'];
    var TAGS = ['Sapphire depth with an assured presence.','Azure tone with refined ease.','Cobalt pique in a timeless cut.','Midnight blue with quiet authority.','Sea‚Äëinspired blue for considered wardrobes.','Crimson hue shaped for statement moments.','Ruby shade with contemporary poise.','Scarlet, confidently restrained.','Burgundy with plush character.','Cherry tone with polished charm.','Emerald green with cultivated calm.','Jade softness with elegant texture.','Forest tone, tailored and composed.','Olive, heritage‚Äëminded and modern.','Mint, fresh and urbane.','Obsidian black ‚Äî the universal neutral.','Midnight Shadow with subtle sheen.','Jet black with architectural clarity.','Charcoal with collected strength.','Onyx, dark and deliberate.','Pearl white with serene balance.','Ivory, graceful and understated.','Snow ‚Äî crisp and contemporary.','Alabaster with gallery‚Äëlevel calm.','Linen tone with coastal ease.','Golden hue, luminous and rare.','Sunlit yellow with optimistic poise.','Marigold, festive yet disciplined.','Amber with gentle warmth.','Citrine, bright yet executive.'];

    /* Ranked premium pricing (‚Çπ80,000‚Äì‚Çπ110,000) */
    var PRICES = [
      94999, 92999, 89999, 109999, 97999,
      104999, 101999, 99999, 98999, 88999,
      96999, 90999, 94999, 89999, 87999,
      109999, 104999, 99999, 97999, 109999,
      94999, 93999, 91999, 92999, 89999,
      108999, 95999, 96999, 94999, 95999
    ];

    var LONG = [
      'A composed sapphire knit with a fine, natural drape. Considered proportions flatter without effort; details remain discreet. Chosen by those who prefer understatement over noise.',
      'An azure interpretation of leisure ‚Äî smooth to the touch, calm in silhouette. Designed to sit clean under tailoring or breeze through a long afternoon by the sea.',
      'Cobalt in a heritage profile. Subtle texture, precise collar, and a hand that suggests confidence from the first wear.',
      'Midnight blue, edited to essentials. Streamlined lines and quiet shine create presence without announcement.',
      'A deep blue with a cool, yacht‚Äëclub temperament. Travel‚Äëfriendly, dinner‚Äëready, entirely composed.',
      'Crimson with modern structure. The fabric‚Äôs depth pairs beautifully with ivory trousers and late‚Äëevening plans.',
      'Ruby with gallery‚Äëroom restraint. A refined take on colour for collectors of the considered.',
      'Scarlet with a disciplined cut. Bold in tone yet impeccably mannered when the setting calls for elegance.',
      'Burgundy with plush intent. Works from cellar dinner to city rooftop without changing tempo.',
      'Cherry, polished. A conversation starter for those who keep the room‚Äôs attention without trying.',
      'Emerald, cool and cultivated. Crafted for mornings that begin early and end wherever the night decides.',
      'Jade, softly textured. A natural partner to linen and pale leather ‚Äî relaxed, never casual.',
      'Forest green with architectural ease. Sits neatly on the shoulder; moves the way you do.',
      'Olive with a heritage nod. Modern lines bring clarity; the tone does the rest.',
      'Mint with urban refinement. Fresh in light, sophisticated in shade.',
      'Obsidian black in its most wearable form. A foundation piece that elevates everything around it.',
      'Midnight Shadow with a barely‚Äëthere sheen. Best appreciated up close, as true luxuries often are.',
      'Jet Classic with a measured stance. Tailored enough for a blazer, effortless enough for weekend drift.',
      'Charcoal with collected poise. The thinking person‚Äôs neutral.',
      'Onyx with disciplined minimalism. Designed for rooms where decisions are made.',
      'Pearl white with serene balance. Opaque enough for confidence, airy enough for summer.',
      'Ivory Elegance ‚Äî a tone that flatters most hours of the day. Quietly persuasive.',
      'Snow, modern and crisp. For those who prefer clarity to complication.',
      'Alabaster with gallery‚Äëlevel calm. Lets your presence do the speaking.',
      'Linen tone with coastal ease. Relaxed lines meet precision finishing.',
      'Golden hue, luminous and rare. Adds warmth without a single raised voice.',
      'Sunlit with optimistic poise. A confident dash of light in a disciplined wardrobe.',
      'Marigold, festive yet disciplined. For the host who never needs to ask for attention.',
      'Amber with gentle warmth. Pairs with deep navy and a late reservation.',
      'Citrine, bright yet executive. The modern answer to cheerful authority.'
    ];

    var PRODUCTS = NAMES.map(function(n,i){ return {id:i+1,title:n,subtitle:TAGS[i],price:PRICES[i],long:LONG[i],badge:i<6?'NEW':''}; });

    var grid = document.getElementById('productGrid');
    var countEl = document.getElementById('count');
    var searchEl = document.getElementById('search');
    var sortEl = document.getElementById('sort');

    function imgPath(id, idx, ext){ ext = ext||'png'; return 'IMAGES/'+id+'/'+id+'.'+idx+'.'+ext; }
    function withFallback(img, id, idx){ img.onerror = function(){ if(!img.dataset.triedJpg){ img.src = imgPath(id, idx, 'jpg'); img.dataset.triedJpg = '1'; } else { img.onerror=null; img.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="600"><rect width="100%" height="100%" fill="%23f1f5f9"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%239ca3af" font-family="Arial" font-size="20">Image coming soon</text></svg>'; } }; }

    function render(){
      var q = (searchEl && searchEl.value || '').toLowerCase();
      var items = PRODUCTS.filter(function(p){ return p.title.toLowerCase().indexOf(q) !== -1; });
      var sortVal = (sortEl && sortEl.value) || 'new';
      if(sortVal==='id-asc') items.sort(function(a,b){return a.id-b.id});
      else if(sortVal==='id-desc') items.sort(function(a,b){return b.id-a.id});
      else if(sortVal==='name-asc') items.sort(function(a,b){return a.title.localeCompare(b.title)});
      else if(sortVal==='name-desc') items.sort(function(a,b){return b.title.localeCompare(a.title)});
      else items.sort(function(a,b){return b.id-a.id});
      document.getElementById('productGrid').style.setProperty('--cols', (window.innerWidth<768?2:3));
      grid.innerHTML='';
      for(var i=0;i<items.length;i++){
        var p = items[i];
        var card = document.createElement('article'); card.className='card';
        card.innerHTML = ''+
          '<div class="media" role="button" aria-label="'+p.title+'" tabindex="0">'+
            (p.badge?'<div class="badge">'+p.badge+'</div>':'')+
            '<div class="pledge">100% ‚Üí Charity</div>'+
            '<button class="wishlist" title="Wishlist" aria-label="Wishlist" data-id="'+p.id+'" type="button">'+
              '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 1 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>'+
            '</button>'+
            '<img class="primary" alt="'+p.title+' front view" loading="lazy">'+
            '<img class="secondary" alt="'+p.title+' alternate view" loading="lazy">'+
          '</div>'+
          '<div class="meta">'+
            '<div class="title">'+p.title+'</div>'+
            '<div class="subtitle">'+p.subtitle+'</div>'+
            '<div class="impact">Your purchase supports animal‚Äëwelfare initiatives.</div>'+
            '<div class="price">‚Çπ'+p.price.toLocaleString('en-IN')+'</div>'+
            '<button class="add-to-cart" data-id="'+p.id+'" type="button">Add to Cart</button>'+
          '</div>';
        var primary = card.querySelector('img.primary'); var secondary = card.querySelector('img.secondary');
        primary.src = imgPath(p.id,1); withFallback(primary,p.id,1);
        secondary.src = imgPath(p.id,2); withFallback(secondary,p.id,2);
        var media = card.querySelector('.media');
        (function(pid){ media.addEventListener('click', function(){ openModal(pid); }); media.addEventListener('keypress', function(e){ if(e.key==='Enter') openModal(pid); }); })(p.id);
        card.querySelector('.wishlist').addEventListener('click', function(e){ e.stopPropagation(); var id = Number(this.getAttribute('data-id')); toggleWishlist(id, this); });
        card.querySelector('.add-to-cart').addEventListener('click', function(e){ e.stopPropagation(); addToCart(Number(this.getAttribute('data-id'))); });
        grid.appendChild(card);
      }
      countEl.textContent = items.length+' products';
      preloadWishlistState();
    }

    if(searchEl){ searchEl.addEventListener('input', render); }
    if(sortEl){ sortEl.addEventListener('change', render); }
    window.addEventListener('resize', render);

    var modal = document.getElementById('modal');
    var mainImage=document.getElementById('mainImage');
    var thumbs=document.getElementById('thumbs');
    var modalTitle=document.getElementById('modalTitle');
    var modalSubtitle=document.getElementById('modalSubtitle');
    var modalPrice=document.getElementById('modalPrice');
    var modalLongCopy=document.getElementById('modalLongCopy');
    var modalImpact=document.getElementById('modalImpact');
    var current={id:1,idx:1};

    window.openModal = function(id){
      var p = PRODUCTS.find(function(x){return x.id===id}); if(!p) return;
      current.id=id; current.idx=1;
      modalTitle.textContent=p.title; modalSubtitle.textContent=p.subtitle||''; modalPrice.textContent='‚Çπ'+p.price.toLocaleString('en-IN'); modalImpact.textContent='100% profits from this collection are directed to charity.'; modalLongCopy.textContent=''; modalLongCopy.innerHTML='<p>'+p.long+'</p>';
      thumbs.innerHTML='';
      for(var i=1;i<=5;i++){
        (function(i){ var btn=document.createElement('button'); var timg=document.createElement('img'); timg.alt=p.title+' view '+i; timg.src=imgPath(id,i); withFallback(timg,id,i); btn.appendChild(timg); if(i===1) btn.classList.add('active'); btn.addEventListener('click',function(){ showImage(i); }); thumbs.appendChild(btn); })(i);
      }
      showImage(1); modal.classList.add('open'); modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; window.addEventListener('keydown', onKey); modal.addEventListener('click', onBackdrop);
      document.getElementById('modalAdd').onclick=function(){ addToCart(id); };
      document.getElementById('modalWish').onclick=function(e){ toggleWishlist(id, e.currentTarget); };
    };
    function onBackdrop(e){ if(e.target===modal) closeModal(); }
    function onKey(e){ if(e.key==='Escape') closeModal(); if(e.key==='ArrowRight') nextImage(); if(e.key==='ArrowLeft') prevImage(); }
    window.closeModal=function(){ modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; window.removeEventListener('keydown', onKey); modal.removeEventListener('click', onBackdrop); };
    function showImage(idx){ current.idx=idx; mainImage.src=imgPath(current.id,idx); mainImage.alt=modalTitle.textContent+' view '+idx; withFallback(mainImage,current.id,idx); var ch=thumbs.children; for(var i=0;i<ch.length;i++){ ch[i].classList.toggle('active', i===idx-1); } }
    window.nextImage=function(){ showImage(current.idx===5?1:current.idx+1); };
    window.prevImage=function(){ showImage(current.idx===1?5:current.idx-1); };

    function openAuth(){ document.getElementById('authModal').classList.add('open'); document.getElementById('authModal').setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
    document.getElementById('authClose').addEventListener('click', function(){ document.getElementById('authModal').classList.remove('open'); document.getElementById('authModal').setAttribute('aria-hidden','true'); document.body.style.overflow=''; });
    var accountChip = document.getElementById('accountChip'); accountChip.addEventListener('click', openAuth); accountChip.addEventListener('keypress', function(e){ if(e.key==='Enter') openAuth(); });

    var burger=document.getElementById('burger'); var drawer=document.getElementById('mobileDrawer'); var dimmer=document.getElementById('drawerDimmer'); var drawerClose=document.getElementById('drawerClose'); var mSearch=document.getElementById('mSearch'); var mSort=document.getElementById('mSort'); var mCart=document.getElementById('mCart'); var mAccount=document.getElementById('mAccount');
    function openDrawer(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); }
    function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
    burger.addEventListener('click', openDrawer); drawerClose.addEventListener('click', closeDrawer); dimmer.addEventListener('click', closeDrawer);
    mSearch.addEventListener('input', function(){ if(searchEl){ searchEl.value=mSearch.value; render(); } });
    mSort.addEventListener('change', function(){ if(sortEl){ sortEl.value=mSort.value; render(); } });
    mCart.addEventListener('click', function(){ closeDrawer(); openCartPage(); });
    mAccount.addEventListener('click', function(){ closeDrawer(); openAuth(); });

    var localWishlist = new Set(JSON.parse(localStorage.getItem('wishlist_ids')||'[]'));
    function saveLocalWishlist(){ localStorage.setItem('wishlist_ids', JSON.stringify(Array.from(localWishlist))); }
    function toggleWishlist(productId, btn){ if(localWishlist.has(productId)){ localWishlist.delete(productId); if(btn) btn.classList.remove('active'); } else { localWishlist.add(productId); if(btn) btn.classList.add('active'); } saveLocalWishlist(); }
    function preloadWishlistState(){ var list=document.querySelectorAll('.wishlist'); for(var i=0;i<list.length;i++){ var id=Number(list[i].getAttribute('data-id')); list[i].classList.toggle('active', localWishlist.has(id)); } }

    var cart=[]; function loadCart(){ try{ cart=JSON.parse(localStorage.getItem('cart')||'[]'); }catch(e){ cart=[]; } }
    function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); updateCartBadge(); }
    function updateCartBadge(){ var badge=document.getElementById('cartBadge'); var count=cart.length; badge.textContent=count; badge.style.display=count?'inline-block':'none'; }
    function addToCart(id){ cart.push(id); saveCart(); }
    var cartWrapEl=document.getElementById('cartWrap');
    function openCartPage(){
      var cartItems=cart.map(function(id){ return PRODUCTS.find(function(p){return p.id===id}); }).filter(Boolean);
      var total=0; var rows='';
      for(var i=0;i<cartItems.length;i++){ var p=cartItems[i]; total+=Number(p.price||0); rows+= '<tr><td style="padding:10px 8px;display:flex;align-items:center;gap:10px"><img src="'+imgPath(p.id,1)+'" onerror="this.src=\''+imgPath(p.id,1,'jpg')+'\'" alt="'+p.title+'" width="54" height="54" style="border-radius:8px;object-fit:cover">'+p.title+'</td><td style="padding:10px 8px;text-align:right">‚Çπ'+p.price.toLocaleString('en-IN')+'</td><td style="padding:10px 8px;text-align:right"><button data-idx="'+i+'" class="rm">Remove</button></td></tr>'; }
      var html = ['<!DOCTYPE html>','<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">','<title>ETANOD ‚Äî Cart</title>','<style>body{font-family:Inter,system-ui,Arial,sans-serif;margin:0;background:#fff;color:#0a0a0a} .wrap{max-width:900px;margin:24px auto;padding:0 16px} h1{font-family:\'Cormorant Garamond\',serif;letter-spacing:.06em;font-weight:600;margin:0 0 16px} table{width:100%;border-collapse:collapse;border:1px solid #eee;border-radius:12px;overflow:hidden} thead{background:#fafafa} th,td{font-size:14px} th{padding:12px 8px;text-align:left;color:#6b7280} tfoot td{font-weight:700} .bar{display:flex;justify-content:space-between;align-items:center;margin:16px 0;gap:10px;flex-wrap:wrap} .btn{border:1px solid #111;background:#111;color:#fff;border-radius:999px;padding:10px 14px;cursor:pointer} .btn.secondary{background:#fff;color:#111;border-color:#e5e7eb} .rm{border:0;background:#fff;color:#b91c1c;cursor:pointer} .empty{padding:18px;border:1px dashed #ddd;border-radius:12px;text-align:center;color:#6b7280} .pledge{margin:8px 0 16px;color:#7a6220;background:#fff8e1;border:1px solid #f1e9cf;padding:10px 12px;border-radius:12px} @media(max-width:768px){ .wrap{padding:0 12px} }</style>','</head><body>','<div class="wrap"><div class="bar"><h1>Cart</h1><div><button id="clear" class="btn secondary">Clear</button> <a href="'+location.href+'" class="btn">Back to shop</a></div></div><div class="pledge">100% PROFITS ‚Üí CHARITY</div>', (cartItems.length? '<table><thead><tr><th>Item</th><th style="text-align:right">Price</th><th></th></tr></thead><tbody>'+rows+'</tbody><tfoot><tr><td style="padding:12px 8px">Total</td><td style="padding:12px 8px;text-align:right">‚Çπ'+total.toLocaleString('en-IN')+'</td><td></td></tr></tfoot></table>' : '<div class="empty">Your cart is empty.</div>'), '</div>','<script>function read(){try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch(e){return []}} function write(v){localStorage.setItem("cart", JSON.stringify(v));} document.querySelectorAll("button.rm").forEach(function(b){ b.addEventListener("click", function(){ var idx=Number(b.getAttribute("data-idx")); var c=read(); c.splice(idx,1); write(c); location.reload(); });}); var clr=document.getElementById("clear"); if(clr){ clr.addEventListener("click", function(){ write([]); location.reload(); }); }<\/script>','</body></html>'].join('');
      var w = window.open('', '_blank'); if(w){ w.document.open(); w.document.write(html); w.document.close(); }
    }
    cartWrapEl.addEventListener('click', openCartPage); cartWrapEl.addEventListener('keypress', function(e){ if(e.key==='Enter') openCartPage(); });

    document.getElementById('year').textContent = new Date().getFullYear();
    function boot(){ loadCart(); updateCartBadge(); render(); }
    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', boot); } else { boot(); }
  })();
  </script>
</body>
</html>
